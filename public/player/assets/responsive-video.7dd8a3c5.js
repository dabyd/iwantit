import{G as h}from"./goldComponent.e5e22987.js";import"./player.5a295e80.js";class r extends h{constructor(e,d,i,t=void 0){super(e,d,i,t),this._addNodesToDomMap({VIDEO_INSTANCE:i.querySelector(".video")}),this._addNodesToDomMap({HOT_POINTS_CONTAINER:i.querySelector(".iwt-hot-points-container")})}whenTheBehaviourIsFullyLoaded(){super.whenTheBehaviourIsFullyLoaded(),this._notifiesThatInteractionWithTheUserIsAvailable(),this._init()}_init(){this._setWidthAndHeight=this._setWidthAndHeight.bind(this),this._getDomMapNode("VIDEO_INSTANCE").addEventListener("canplay",this._setWidthAndHeight),window.addEventListener("resize",this._setWidthAndHeight)}_setWidthAndHeight(){const e=this._getDomMapNode("VIDEO_INSTANCE"),d=this._getDomMapNode("HOT_POINTS_CONTAINER");let i=e.videoHeight*window.innerWidth/e.videoWidth,t=e.videoWidth*window.innerHeight/e.videoHeight;i>window.innerHeight&&(i=window.innerHeight),t>window.innerWidth&&(t=window.innerWidth),e.width=t,e.height=i,d.style.width=t+"px",d.style.height=i+"px"}destroy(){super.destroy(),this._getDomMapNode("VIDEO_INSTANCE").removeEventListener("canplay",this._setWidthAndHeight),window.removeEventListener("resize",this._setWidthAndHeight)}}export{r as default};
