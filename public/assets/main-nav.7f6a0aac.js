import"./index.66764821.js";import{G as n}from"./goldComponent.679ed27e.js";import{D as l}from"./darkModeController.512dad87.js";class a{constructor(t,e=null,s=50){this._listenerFn=void 0,this.initController(t,e)}initController(t,e,s){this._header=t,this._notifications_dn=e||this._header,this._headerHeight=this._header.offsetHeight+s,this._distanceToTop=Math.max(w.pageYOffset,d.documentElement.scrollTop,d.body.scrollTop),this._callback=this._throttle(this._callback.bind(this),200),this.start(),this._distanceToTop>0&&this._notifications_dn.classList.add("scrolled")}addListener(t){this._listenerFn=t}removeListener(){this._listenerFn=void 0}start(){this.stop(),this._watching=!0,w.addEventListener("scroll",this._callback)}stop(){this._watching=!1,w.removeEventListener("scroll",this._callback)}get isWatching(){return this._watching}preserveAndRemoveState(){this._scrolledClassList=[],this._notifications_dn.classList.forEach(t=>{t.includes("scrolled")&&this._scrolledClassList.push(t)}),this._notifications_dn.classList.remove(...this._scrolledClassList)}recoverState(){this._scrolledClassList&&this._notifications_dn.classList.add(...this._scrolledClassList)}_throttle(t,e=100){let s=null;return function(i){s===null&&(s=setTimeout(()=>{t.apply(this,i),s=null},e))}}_callback(){const t=Math.max(w.pageYOffset,d.documentElement.scrollTop,d.body.scrollTop);if(t===0){this._notifications_dn.classList.remove("scrolled--transition"),this._notifications_dn.classList.remove("scrolled","scrolled--past","scrolled--show"),this._listenerFn&&this._listenerFn();return}if(t>this._headerHeight){this._notifications_dn.classList.add("scrolled--past");const e=this;setTimeout(function(){e._notifications_dn.classList.add("scrolled--transition")},99)}t<this._distanceToTop?this._notifications_dn.classList.add("scrolled--show"):(this._notifications_dn.classList.add("scrolled"),this._notifications_dn.classList.remove("scrolled--show")),this._distanceToTop=t,this._listenerFn&&this._listenerFn()}}class _ extends n{constructor(t,e,s,i=void 0){super(t,e,s,i),this._addNodesToDomMap({BURGER:s.querySelector(".input-bt-mobile")}),this._addNodesToDomMap({DARK_MODE_SWITCHER:s.querySelector(".dark-mode-switcher")})}whenTheBehaviourIsFullyLoaded(){super.whenTheBehaviourIsFullyLoaded(),this._notifiesThatInteractionWithTheUserIsAvailable(),this._init()}_init(){this._mainNavScrollLookout=new a(this.mainContainer),this.darKModeController=new l(this._getDomMapNode("DARK_MODE_SWITCHER")),this._changeHandler=this._changeHandler.bind(this),this._getDomMapNode("BURGER").addEventListener("change",this._changeHandler)}_changeHandler(t){document.documentElement.style.overflow=this._getDomMapNode("BURGER").checked?"hidden":null,this._mainNavScrollLookout.isWatching?(this._mainNavScrollLookout.stop(),this._mainNavScrollLookout.preserveAndRemoveState()):(this._mainNavScrollLookout.start(),this._mainNavScrollLookout.recoverState())}destroy(){this._getDomMapNode("BURGER").removeEventListener("change",this._changeHandler),super.destroy()}}export{_ as default};
